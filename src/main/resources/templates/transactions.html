<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="FixGia">
    <meta name="generator" content="FixGia">
    <title> Transactions </title>
    <link rel="stylesheet" href="../static/css/My.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>
<div class="container">
    <header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom" style="background-color: whitesmoke">
        <a href="/" class="d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none">
            <img src="/static/Img/logoPmB.png">
            <svg class="bi me-2" width="80" height="64" role="img" aria-label="Bootstrap"><use xlink:href="#PayMyBuddy"/></svg> </img>
        </a>

        <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
            <li sec:authorize="isAuthenticated()" ><a href="#" th:href="@{/Home}" class="nav-link px-2 link-secondary">Home</a></li>
            <li sec:authorize="isAuthenticated()"><a href="#" th:href="@{/Contacts}" class="nav-link px-2 link-dark">Contacts</a></li>
            <li sec:authorize="isAuthenticated()"><a href="#" th:href="@{/Profile}"class="nav-link px-2 link-dark">Profile</a></li>
            <li sec:authorize="isAuthenticated()"><a href="#"th:href="@{/Transaction}" class="nav-link px-2 link-dark">Transactions</a></li>
        </ul>

        <div class="col-md-3 text-end">
            <form class="form-inline my-2 my-lg-0" form-method="post" th:action="@{/logout}">
                <button sec:authorize="isAuthenticated()" class="btn btn-outline-danger my-2 my-sm-0 btn-sm" type="submit">Logout</button>
                <button sec:authorize="isAnonymous()" th:href="@{/login}" class="btn btn-outline-info my-2 my-sm-0 btn-sm" type="submit">Login</button>
            </form>
        </div>
    </header>
    <div class="b-example-divider" style=" margin-bottom: 100px;"> </div>
</div>
<body>

<div class="consTrans3">
    <table class="table">
        <thead>
        <h2> Transfer With Bank Account</h2>
        <tr class="panel-th" >
            <th width="30%"  style="font-style:italic; font-size:14px; color:#707070; ">Amount</th>
            <th width="50%" style="font-style:italic; font-size:14px; color:#707070; ">Credit</th>
            <th width="20%" style="font-style:italic; font-size:14px; color:#707070; ">Debit</th>
            <th width="20%" style="font-style:italic; font-size:14px; color:#707070; ">Description</th>
        </thead>
        </tr>
        <tbody>
        <tr th:each ="transfer : ${ transfers}">
            <td th:utext="${transfer.amount}">...</td>
            <td th:utext="${transfer.credit}">...</td>
            <td th:utext="${transfer.debit}">...</td>
            <td th:utext="${transfer.description}">...</td>
            <td>
                <p class="text-right m-0"> <a class="btn btn-danger" onclick="return confirm( 'Do you really want to delete this transfer?')"
                                              th:href="@{/deleteTransfer(id=${transfer.id})}">Delete</a><i class="far fa-user"></i></p>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<div class="consTrans3">
    <table class="table">
        <thead>
        <h4> Transaction With Your Contact</h4>
        <h5> You are Beneficiary </h5>
        <tr class="panel-th" >
            <th width="30%"  style="font-style:italic; font-size:14px; color:#707070; ">Amount</th>
            <th width="50%" style="font-style:italic; font-size:14px; color:#707070; ">Beneficiary</th>
            <th width="20%" style="font-style:italic; font-size:14px; color:#707070; ">Payer</th>
            <th width="20%" style="font-style:italic; font-size:14px; color:#707070; ">Description</th>
            <th ></th>
        </thead>
        </tr>
        <tbody>
        <tr th:each ="transaction : ${ BeneficiaryTransactions}">
            <td th:utext="${transaction.amount}">...</td>
            <td th:utext="${transaction.beneficiary.firstname+' '+transaction.beneficiary.lastname}">...</td>
            <td th:utext="${transaction.payer.firstname+' '+transaction.payer.lastname}">...</td>
            <td th:utext="${transaction.description}">...</td>
            <td>
                <p class="text-right m-0"> <a class="btn btn-danger" onclick="return confirm( 'Do you really want to delete this transaction?')"
                                              th:href="@{/deleteTransaction(id=${transaction.id})}">Delete</a><i class="far fa-user"></i></p>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<div class="consTrans3">
    <table class="table">
        <thead>
        <h4> Transaction With Your Contact</h4>
        <h5> You are Payer </h5>
        <tr class="panel-th" >
            <th width="30%"  style="font-style:italic; font-size:14px; color:#707070; ">Amount</th>
            <th width="50%" style="font-style:italic; font-size:14px; color:#707070; ">Beneficiary</th>
            <th width="20%" style="font-style:italic; font-size:14px; color:#707070; ">Payer</th>
            <th width="20%" style="font-style:italic; font-size:14px; color:#707070; ">Description</th>
            <th ></th>
        </thead>
        </tr>
        <tbody>
        <tr th:each ="transaction : ${ PayerTransactions}">
            <td th:utext="${transaction.amount}">...</td>
            <td th:utext="${transaction.beneficiary.firstname+' '+transaction.beneficiary.lastname}">...</td>
            <td th:utext="${transaction.payer.firstname+' '+transaction.payer.lastname}">...</td>
            <td th:utext="${transaction.description}">...</td>
            <td>
                <p class="text-right m-0"> <a class="btn btn-danger" onclick="return confirm( 'Do you really want to delete this transaction?')"
                                              th:href="@{/deleteTransaction(id=${transaction.id})}">Delete</a><i class="far fa-user"></i></p>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
<footer class="my-5 pt-5 text-muted text-center text-small">
    <p class="mb-1">&copy;2021 PayMyBuddy Company </p>
    <ul class="list-inline">
        <li class="list-inline-item"><a href="#">Privacy</a></li>
        <li class="list-inline-item"><a href="#">Terms</a></li>
        <li class="list-inline-item"><a href="#">Support</a></li>
    </ul>
</footer>